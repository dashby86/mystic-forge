!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue-demi")):"function"==typeof define&&define.amd?define(["exports","vue-demi"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).VueRecaptcha={},e.VueDemi)}(this,(function(e,t){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}var r=Object.prototype.hasOwnProperty;var i,a,o,c=(i=!1,a=[],o={resolved:function(){return i},resolve:function(){if(!i){i=!0;for(var e=0,t=a.length;e<t;e++)a[e]()}},promise:{then:function(e){i?e():a.push(e)}}},{notify:function(){o.resolve()},wait:function(){return o.promise},render:function(e,t,n){this.wait().then((function(){n(window.grecaptcha.render(e,t))}))},reset:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(e)})))},execute:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(e)})))},checkRecaptchaLoad:function(){r.call(window,"grecaptcha")&&r.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!o.resolved())throw new Error("ReCAPTCHA has not been loaded")}});"undefined"!=typeof window&&(window.vueRecaptchaApiLoaded=c.notify);var d=t.defineComponent({name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!0},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},emits:["render","verify","expired","error"],setup:function(e,r){var i=r.slots,a=r.emit,o=t.ref(null),d=t.ref(null),u=function(e){a("verify",e)},p=function(){a("expired")},f=function(){a("error")};return t.onMounted((function(){if(c.checkRecaptchaLoad(),e.loadRecaptchaScript&&!document.getElementById(e.recaptchaScriptId)){var t=document.createElement("script");t.id=e.recaptchaScriptId,t.src="https://"+e.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+e.language,t.async=!0,t.defer=!0,document.head.appendChild(t)}var r=n({},e,{callback:u,"expired-callback":p,"error-callback":f}),s=o.value,l=i.default?s.children[0]:s;c.render(l,r,(function(e){d.value=e,a("render",e)}))})),{root:o,widgetId:d,reset:function(){c.reset(d.value)},execute:function(){c.execute(d.value)}}},render:function(){var e,n=this.$slots.default;return e="function"==typeof n?n():n,t.h("div",{ref:"root"},e)}});e.VueRecaptcha=d,Object.defineProperty(e,"__esModule",{value:!0})}));
